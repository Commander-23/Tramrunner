# Query Trip Json Format

The response for querying trips is a list of possible routes. Each route is a dictionary with the following keys:

```json
{
    "PriceLevel": 1,
    "Price": "3,40",
    "PriceDayTicket": "9,00",
    "Net": "voe",
    "Duration": 42,
    "Interchanges": 2,
    "MotChain": [{},{}],
    "NumberOfFareZones": "1 Tarifzone",
    "NumberOfFareZonesDayTicket": "1 Tarifzone",
    "FareZoneNames": "TZ Dresden (10)",
    "FareZoneNamesDayTicket": "TZ Dresden (10)",
    "FareZoneOrigin": 10,
    "FareZoneDestination": 10,
    "RouteId": 0,
    "PartialRoutes": [{},{},{}],
    "MapData": ["", "", ""],
    "Tickets": [{},{}]
}
```

|Key                          |Type     |Value                                          |description|
|-----------------------------|---------|-----------------------------------------------|---|
|`PriceLevel`                 |Int      |`1`                                            |Number of farezones|
|`Price`                      |String   |`3,40`                                         |Price for a one way ticket in euros|
|`PriceDayTicket`             |String   |`9,00`                                         |Price for a day ticket in euros|
|`Net`                        |String   |`voe`                                          |Transportation Network|
|`Duration`                   |Int      |`42`                                           |Length of the trip in minutes|
|`Interchanges`               |Int      |`2`                                            |Number of interchanges in a trip|
|`MotChain`                   |List     |see [MotChain section](#motchain)              |gives overview about the MOT of each partial trip|
|`NumberOfFareZones`          |String   |`1 Tarifzone`                                  |Number of farezones for a single ticket|
|`NumberOfFareZonesDayTicket` |String   |`1 Tarifzone`                                  |Number of farezones for a day ticket|
|`FareZoneNames`              |String   |`TZ Dresden (10)`                              |Name of all farezones for a single ticket|
|`FareZoneNamesDayTicket`     |String   |`TZ Dresden (10)`                              |Name of all farezones for a day ticket|
|`FareZoneOrigin`             |Int      |`10`                                           |Farezone id of the origin|
|`FareZoneDestination`        |Int      |`10`                                           |Farezone id of the destination|
|`RouteId`                    |String   |`0`                                            |route id |
|`PartialRoutes`              |List     |see [partial routes section](#partialroutes)   |list of the partial routes that make up the trip|
|`MapData`                    |Lsit     |see [map data section](#mapdata)               |map data, use case unkown|
|`Tickets`                    |List     |see [Tickets section](#tickets)                |list of availabile tickets for the queried trip|

## MotChain

The `MotChain` key contains a list of dictionaries that contain information about the different modes of transportation that are part of the trip.
> [!TIP]
> The `"Direction": "Zschertnitz"` key value pair is missing if the `Type` key is `Footpath`.

```json
{
    "DlId": "de:vvo:11-11",
    "StatelessId": "voe:11011: :H:j25",
    "Type": "Tram",
    "Name": "11",
    "Direction": "Zschertnitz",
    "Changes": ["23520"],
    "Diva": {"Number": "11011", "Network": "voe"},
    "TransportationCompany": "DVB",
    "OperatorCode": "16",
    "ProductName": "Straßenbahn",
    "TrainNumber": "2601"
}
```

## PartialRoutes

The `PartialRoutes` key contains a list of dictionaries that contain detailed information about each part involved in a trip.

> [!TIP]
> The `Mot` dictionary comes in the same format as each dictionary in the `MotChain` key found [in the mode of transport section](#motchain).

```json
{
    "PartialRouteId": 1,
    "Duration": 4,
    "Mot": {"Type": "Tram", "Name": "11"},
    "MapDataIndex": 1,
    "Shift": "None",
    "RegularStops": [{}, {}, {}],
    "NextDepartureTimes": ["/Date(1754016600000-0000)/", "/Date(1754017860000-0000)/"],
    "PreviousDepartureTimes": ["/Date(1754013000000-0000)/", "/Date(1754009400000-0000)/"]
}
```

|Key                          |Type     |Value                                          |description|
|-----------------------------|---------|-----------------------------------------------|---|
|`PartialRouteId`             |Int      |`1`                                            |Id of the Partial Route|
|`Duration`                   |Int      |`4`                                            |Duration of the partial route in minutes|
|`Mot`                        |Dict     |`{"Type": "Tram", "Name": "11"}`               |mode of transport information|
|`MapDataIndex`               |Int      |`1`                                            |Index for the map data|
|`Shift`                      |String   |`None`                                         |???|
|`RegularStops`               |List     |see regular stops section                      |List of all the stops involved in the partial trip|
|`NextDepartureTimes`         |List     |`["/Date(1754016600000-0000)/", "/Date(1754017860000-0000)/"]`|NextDepartureTime, NextDepartureRealTime|
|`PreviousDepartureTimes`     |List     |`["/Date(1754013000000-0000)/", "/Date(1754009400000-0000)/"]`|PreviousDepartureTime, PreviousDepartureRealTime|

### RegularStops

contains a list of each stop for a partial route

> [!TIP]
> The `DepartureRealTime`, `ArrivalRealTime`, `Departure_State` and `ArrivalState` are not always availabile
> if

```json
{
    "ArrivalTime": "/Date(1754014920000-0000)/",
    "DepartureTime": "/Date(1754014920000-0000)/",
    "ArrivalRealTime": "/Date(1754014920000-0000)/",
    "DepartureRealTime": "/Date(1754014920000-0000)/",
    "Place": "Dresden",
    "Name": "Gret-Palucca-Straße",
    "Type": "Stop",
    "DataId": "33000030",
    "DhId": "de:14612:30",
    "Platform": {"Name": "1", "Type": "Platform"},
    "Latitude": 5657403,
    "Longitude": 4622125,
    "DepartureState": "InTime",
    "ArrivalState": "InTime",
    "CancelReasons": [],
    "ParkAndRail": [],
    "Occupancy": "ManySeats"
}
```

## MapData

To be done

```json
[
    "Footpath|5657627|4621648|5657627|4621647|5657621|4621662|5657611|4621679|5657613|4621681|5657615|4621681|5657617|4621682|5657615|4621688|5657607|4621707|5657605|4621712|5657604|4621717|5657604|4621721|5657605|4621724|5657609|4621726|5657609|4621733|5657611|4621736|5657620|4621744|5657627|4621748|5657642|4621758|5657641|4621759|5657652|4621766|5657671|4621776|",
    "Tram|5657670|4621778|5657650|4621766|5657641|4621760|5657633|4621756|5657626|4621753|5657620|4621752|5657611|4621750|5657604|4621751|5657596|4621752|5657588|4621755|5657580|4621760|5657575|4621764|5657571|4621769|5657565|4621778|5657549|4621811|5657546|4621818|5657544|4621824|5657535|4621865|5657532|4621872|5657530|4621879|5657513|4621916|5657478|4621992|5657472|4622004|5657467|4622013|5657462|4622021|5657442|4622049|5657436|4622059|5657425|4622081|5657404|4622125|5657391|4622151|5657381|4622169|5657364|4622195|5657340|4622244|5657277|4622374|5657247|4622436|5657242|4622446|5657241|4622450|5657240|4622456|5657240|4622465|5657241|4622470|5657243|4622475|5657249|4622482|5657267|4622496|5657273|4622501|5657286|4622512|5657293|4622519|5657300|4622527|5657342|4622581|5657336|4622573|5657341|4622579|5657348|4622590|5657353|4622599|5657355|4622605|5657355|4622610|5657354|4622617|5657352|4622622|5657350|4622627|5657342|4622640|5657304|4622697|",
    "Tram|5657321|4622671|5657286|4622724|5657275|4622741|5657271|4622748|5657269|4622754|5657267|4622766|5657265|4622787|5657264|4622810|5657262|4622843|5657261|4622872|5657259|4622889|5657256|4622906|5657252|4622921|5657248|4622935|5657244|4622946|5657238|4622960|5657231|4622973|5657221|4622989|5657212|4623003|5657208|4623009|5657182|4623052|5657173|4623067|5657164|4623084|5656952|4623437|5656941|4623456|5656923|4623484|5656916|4623496|5656905|4623515|5656842|4623619|5656806|4623678|5656777|4623727|5656774|4623731|5656771|4623733|5656767|4623734|5656763|4623735|5656759|4623734|5656755|4623733|5656751|4623731|5656645|4623677|5656578|4623645|",
    "Footpath|5656591|4623653|5656591|4623653|5656618|4623666|5656623|4623668|5656623|4623668|"
    "Bus|5656584|4623650|5656647|4623680|5656739|4623728|5656753|4623735|5656769|4623743|5656763|4623754|5656756|4623764|5656746|4623781|5656675|4623901|5656644|4623965|5656639|4623973|5656598|4624058|5656520|4624217|5656511|4624237|5656496|4624268|5656462|4624338|5656456|4624352|5656473|4624364|5656498|4624379|5656672|4624483|5656699|4624499|5656793|4624557|5656811|4624568|5656829|4624578|5656825|4624586|5656800|4624629|5656752|4624709|5656711|4624778|5656648|4624884|5656624|4624924|5656597|4624969|5656591|4624980|5656584|4624992|5656639|4625023|5656827|4625132|5656837|4625138|5656841|4625140|5656845|4625145|5656860|4625156|5656871|4625161|5656880|4625166|5656890|4625171|5656963|4625214|5656967|4625206|5656983|4625215|5656989|4625225|5656995|4625234|5657010|4625242|5657026|4625248|5657029|4625251|5657144|4625319|5657154|4625326|5657160|4625333|5657164|4625340|5657166|4625346|5657166|4625354|5657166|4625464|5657166|4625467|5657345|4625703|5657907|4625996|5657909|4625997|5657928|4626007|5657947|4626017|5657950|4626018|5657961|4626025|5658035|4626073|5658123|4626130|5658235|4626200|5658199|4626259|5658178|4626295|5658150|4626340|5658223|4626388|5658322|4626450|5658440|4626524|5658471|4626544|5658484|4626523|5658511|4626479|5658554|4626405|5658592|4626343|5658632|4626278|5658680|4626197|5658728|4626120|5658740|4626104|5658755|4626140|5658769|4626177|5658776|4626198|5658782|4626217|5658795|4626294|5658800|4626316|5658818|4626380|5658825|4626401|5658847|4626471|5658870|4626544|5658879|4626575|5658926|4626554|5658959|4626538|5658990|4626522|5659013|4626537|5659009|4626552|5659006|4626565|5659004|4626583|5659003|4626591|5659001|4626628|5658999|4626671|5658998|4626696|5658997|4626702|5658998|4626741|5658997|4626766|5658997|4626769|5658996|4626780|5658994|4626788|5659004|4626804|5659006|4626807|5659011|4626816|5659046|4626868|5659064|4626897|5659218|4627132|5659252|4627186|5659257|4627195|5659261|4627201|5659263|4627207|5659265|4627214|5659267|4627220|5659268|4627228|5659269|4627235|5659269|4627241|5659269|4627248|5659268|4627255|5659267|4627261|5659262|4627279|5659256|4627297|5659249|4627311|5659229|4627346|5659215|4627371|5659220|4627379|5659226|4627390|5659243|4627424|5659255|4627444|5659259|4627450|5659266|4627458|5659271|4627463|5659278|4627467|5659283|4627469|5659293|4627473|5659298|4627475|5659304|4627475|5659309|4627476|5659315|4627475|5659321|4627474|5659325|4627472|5659329|4627471|5659344|4627461|5659353|4627456|5659360|4627454|5659367|4627453|5659376|4627452|5659384|4627453|5659399|4627456|5659409|4627459|5659418|4627462|5659427|4627467|5659448|4627481|5659468|4627496|5659475|4627501|5659480|4627507|5659486|4627517|5659489|4627524|5659492|4627536|5659493|4627549|5659494|4627562|5659501|4627610|5659502|4627627|5659500|4627650|5659495|4627673|5659489|4627698|5659480|4627734|5659479|4627741|5659477|4627755|5659476|4627766|5659477|4627788|5659479|4627802|5659483|4627814|5659490|4627825|5659498|4627834|5659509|4627844|5659550|4627879|5659565|4627891|5659580|4627900|5659620|4627922|5659630|4627929|5659637|4627935|5659644|4627945|5659668|4628001|5659683|4628038|5659686|4628047|5659688|4628056|5659691|4628069|5659694|4628083|5659695|4628097|5659695|4628120|5659696|4628137|5659699|4628154|5659703|4628170|5659709|4628187|5659715|4628201|5659736|4628253|5659740|4628269|5659744|4628286|5659747|4628296|5659750|4628311|5659750|4628318|5659751|4628326|5659751|4628349|5659753|4628366|5659754|4628377|5659757|4628391|5659763|4628415|5659777|4628465|5659780|4628472|5659783|4628481|5659791|4628493|5659811|4628519|5659819|4628532|5659830|4628557|5659836|4628571|5659840|4628582|5659846|4628599|5659851|4628616|5659853|4628627|5659854|4628638|5659853|4628645|5659852|4628653|5659849|4628664|5659844|4628674|5659839|4628682|5659834|4628689|5659829|4628694|5659824|4628700|5659798|4628725|5659785|4628735|5659771|4628745|5659755|4628756|5659742|4628765|5659737|4628770|5659732|4628775|5659728|4628781|5659722|4628789|5659721|4628792|5659719|4628797|5659717|4628803|5659715|4628812|5659714|4628822|5659715|4628831|5659716|4628839|5659722|4628878|5659730|4628929|5659739|4628984|5659742|4629005|5659745|4629021|5659751|4629038|5659784|4629102|5659788|4629109|5659794|4629118|5659799|4629125|5659805|4629131|5659812|4629139|5659819|4629145|5659825|4629150|5659836|4629160|5659844|4629169|5659847|4629174|5659851|4629179|5659853|4629184|5659854|4629190|5659855|4629196|5659856|4629202|5659856|4629209|5659853|4629230|5659850|4629243|5659850|4629251|5659850|4629260|5659851|4629265|5659852|4629270|5659854|4629276|5659857|4629284|5659859|4629289|5659862|4629295|5659867|4629302|5659876|4629314|5659901|4629340|5659910|4629353|5659915|4629363|5659917|4629368|5659918|4629371|5659919|4629378|5659919|4629386|5659919|4629397|5659918|4629406|5659915|4629424|5659915|4629435|5659916|4629444|5659918|4629453|5659921|4629463|5659941|4629509|5659956|4629537|5659967|4629553|5659979|4629567|5659992|4629581|5660048|4629630|5660057|4629635|5660066|4629638|5660082|4629642|5660094|4629646|5660107|4629651|5660117|4629655|5660130|4629656|5660136|4629657|5660148|4629655|5660149|4629672|5660150|4629696|5660151|4629734|5660151|4629744|5660151|4629758|5660150|4629778|5660147|4629793|5660143|4629810|5660134|4629844|5660133|4629854|5660132|4629863|5660133|4629870|5660136|4629877|5660157|4629933|5660176|4629980|5660185|4630004|5660187|4630009|5660191|4630024|5660193|4630034|"
]
```

## Tickets

returns a list of availabile tickest for the trip

```json
{
    "Name": "VVO Einzelfahrt",
    "PriceLevel": 1,
    "Price": "3,40",
    "NumberOfFareZones": "1 Tarifzone",
    "FareZoneNames": "TZ Dresden (10)"
},
```
